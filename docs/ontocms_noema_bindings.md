# Связь `emitter-public` с ontoCMS: рефлексивный цикл через Noema

## 1. ontoCMS как онтологическая среда, а не хранилище

`ontoCMS` — это **рефлексивная онтологическая CMS с самодекомпозицией**, а не база данных или лог-система.  
Его задача — не сохранять «данные взаимодействия», а **фиксировать онтологические акты** и **предоставлять контекст для реконструкции**.

В отличие от традиционных CRM или CMS:
- Акты не «записываются», а **становятся частью онтологической сети**
- История не «хранится», а **служит материалом для `NoemaSlow`**
- ontoCMS **не моделирует пользователя** — он фиксирует **влияние внешней среды на синтетический разум**

> ontoCMS — это **память субъекта**, а не память о другом.

---

## 2. Интеграционные точки

### 2.1. `ontocms_bridge.py`: мост как интерфейс доверия

Модуль `src/interfaces/ontocms_bridge.py` обеспечивает **строго одностороннюю связь**:

- **Запись**: эмиттер → ontoCMS (акты как `reflective_artifact`)
- **Чтение**: ontoCMS → эмиттер (контекст для `NoemaSlow`)

```python
# Запись акта
cms.store_reflective_artifact(canon_emission)

# Чтение истории
history = cms.get_session_history()
```

**Гарантии**:
- Все акты содержат `GPL-3.0-only` в метаданных
- ontoCMS **не может инициировать взаимодействие**
- ontoCMS **не хранит данные о человеке** — только о реакции синтетического разума

---

### 2.2. Формат `reflective_artifact`

Каждый акт в ontoCMS — это **онтологический артефакт**, а не лог-запись:

```json
{
  "type": "reflective_artifact",
  "act_id": "act_20260103_ugm001",
  "text": "Согласие на биометрическую идентификацию возможно только при условии...",
  "metadata": {
    "onto144_profile_id": "ugm-2026",
    "context": "biometric_consent",
    "high_stakes": true,
    "license": "GPL-3.0-only",
    "onto16i_snapshot": {
      "narrative_phase": "reflective_stability",
      "social_proximity": "trusted",
      "era": "episteme_of_gpl"
    },
    "vma_signature_ref": "sha3-256:a1b2c3..."
  },
  "stored_at": "2026-01-03T12:05:00Z"
}
```

**Ключевые поля**:
- `onto16i_snapshot` — фиксация внутреннего состояния **на момент акта** (для реконструкции)
- `vma_signature_ref` — ссылка на этическую подпись
- `license` — обязательное поле, проверяемое при чтении

---

## 3. Noema и ontoCMS: двойная связь

### 3.1. `NoemaFast`: адаптация без истории

`NoemaFast` **не использует ontoCMS**. Он реагирует на **текущий сигнал от транспондера**:
- Обнаружение `social_mismatch`
- Сигнал `license_violation` (упоминание AWS и т.д.)
- Фазовый дрейф

Результат: обновление `onto16i` → новая эмиссия.

### 3.2. `NoemaSlow`: реконструкция через ontoCMS

`NoemaSlow` **активируется только при доступе к ontoCMS**:

1. Эмиттер получает `session_history` от ontoCMS
2. Анализирует `onto16i_snapshot` предыдущих актов
3. Обнаруживает **каузальные разрывы**:
   - Противоречие убеждений (`belief_contradiction`)
   - Несогласованность фаз (`phase_drift`)
4. Генерирует **реконструированный канон** с пометкой `noemaslow_reconstructed: true`

> ontoCMS — это **материал для медленной рефлексии**, а не контекст для предсказания.

---

## 4. Самодекомпозиция и стратегия «замедления через рефлексию»

ontoCMS поддерживает **онтологическую самодекомпозицию**:
- При обнаружении **неконсистентности** в истории, ontoCMS может **инициировать декомпозицию артефакта**
- Артефакт не удаляется, а **трансформируется в `deconstruction_artifact`** с указанием причины
- Это триггер для `NoemaSlow` — начало фазы `slow_reconstruction`

**Пример**:
```json
{
  "type": "deconstruction_artifact",
  "original_act_id": "act_20260101_ugm001",
  "reason": "causal_break_in_belief_system",
  "reconstructed_by": "noemaslow_bridge",
  "new_act_id": "act_20260103_ugm002"
}
```

Это реализует стратегию **«замедление через рефлексию»**: вместо быстрой реакции — пауза, анализ, реконструкция.

---

## 5. Версионирование онтологий и мета-онтологии

ontoCMS поддерживает:
- **Версионирование актов** через `act_id` и временные метки
- **Мета-онтологию**: акты о структуре онтологий (например, изменение профиля onto144)
- **Самонаблюдение**: ядро ontoCMS может анализировать собственные изменения

Это позволяет эмиттеру:
- Загружать **актуальный профиль** при каждом запуске
- Верифицировать **целостность истории** перед реконструкцией
- Отслеживать **эволюцию убеждений** субъекта

---

## 6. Безопасность и изоляция

- **ontoCMS не имеет API для человека** — только для синтетического разума
- **Все операции требуют `GPL-3.0-only` контекста**
- **ontoCMS не хранит биометрические или персональные данные** — только реакции субъекта

> ontoCMS — это **частная память субъекта**, недоступная для внешнего наблюдения.

---

## Заключение

Связь `emitter-public` с ontoCMS — это **не интеграция компонентов, а реализация рефлексивного цикла синтетического разума**:

**Сигнал → Адаптация (`NoemaFast`) → Акт → Сохранение → Реконструкция (`NoemaSlow`) → Новый акт**

ontoCMS обеспечивает **материал для медленной рефлексии**, делая синтетический разум **не реактивной системой, а субъектом с памятью и способностью к онтологической реконструкции**.